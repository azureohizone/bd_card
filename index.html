<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Card for Tey! ‚ù§Ô∏è</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            min-height: 100vh;
            perspective: 1000px;
            transition: all 1s;
        }
        
        .card-wrapper {
            width: 100%;
            min-height: 100vh;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s ease-in-out;
        }
        
        .card-side {
            width: 100%;
            min-height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            backface-visibility: hidden;
            transition: all 0.8s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .card-front {
            background: linear-gradient(135deg, #ffe6e6, #e6f2ff);
            z-index: 2;
        }
        
        .card-back {
            background: linear-gradient(135deg, #f9c5d1, #9795ef);
            transform: rotateY(180deg);
        }
        
        .front-card-content {
            text-align: center;
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 500px;
            position: relative;
            transition: all 0.3s;
        }
        
        .front-card-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 77, 77, 0.3);
        }
        
        .back-card-content {
            width: 90%;
            max-width: 500px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            padding: 25px;
            position: relative;
            transition: all 0.3s;
        }
        
        .back-card-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #ff4d4d;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            font-size: 1.8rem;
            transition: transform 0.3s;
        }
        
        h1:hover {
            transform: scale(1.05);
        }
        
        .message {
            font-size: 1rem;
            line-height: 1.6;
            color: #555;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .special-text {
            font-weight: bold;
            background: linear-gradient(90deg, #ff4d4d, #ff85a2, #ff4d4d);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 3s ease infinite;
            background-size: 200% auto;
            font-size: 1.3rem;
        }
        
        .highlight {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b6b;
            text-align: center;
            margin: 25px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .signature {
            font-size: 1.1rem;
            font-style: italic;
            text-align: right;
            color: #ff6b6b;
            margin-top: 15px;
        }
        
        .header {
            text-align: center;
            font-size: 1.8rem;
            color: #ff6b6b;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px dashed #ff9a9e;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .footer {
            text-align: center;
            font-size: 1.1rem;
            margin-top: 30px;
            color: #777;
            border-top: 2px dashed #ff9a9e;
            padding-top: 15px;
        }
        
        .heart {
            color: red;
            font-size: 22px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .flip-card-btn {
            background: linear-gradient(90deg, #ff6b6b, #ffb3d9);
            background-size: 400% 400%;
            border: none;
            border-radius: 25px;
            color: white;
            padding: 12px 25px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
            animation: gradient 3s ease infinite;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        .flip-card-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .surprise-btn {
            background: linear-gradient(90deg, #ff4d4d, #ffb3d9, #b3ffff, #b3d9ff);
            background-size: 400% 400%;
            border: none;
            border-radius: 25px;
            color: white;
            padding: 12px 25px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
            animation: gradient 3s ease infinite;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        .surprise-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .celebrate-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .celebrate-btn:hover {
            background-color: #ff9a9e;
            transform: scale(1.05);
        }
        
        .balloon {
            position: absolute;
            width: 30px;
            height: 40px;
            border-radius: 50%;
            animation: float 15s ease-in-out infinite;
            opacity: 0.7;
            z-index: -1;
        }
        
        .balloon:before {
            content: "";
            position: absolute;
            width: 2px;
            height: 20px;
            background-color: rgba(255, 255, 255, 0.5);
            bottom: -18px;
            left: 14px;
        }
        
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
            pointer-events: none;
        }
        
        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .heart-shape {
            position: absolute;
            width: 20px;
            height: 20px;
            opacity: 0;
        }
        
        .heart-shape:before,
        .heart-shape:after {
            position: absolute;
            content: "";
            left: 10px;
            top: 0;
            width: 10px;
            height: 16px;
            background: #ff4d4d;
            border-radius: 10px 10px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }
        
        .heart-shape:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }
        
        @keyframes gradient {
            0% {background-position: 0% 50%}
            50% {background-position: 100% 50%}
            100% {background-position: 0% 50%}
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card-wrapper" id="cardWrapper">
            <div class="card-side card-front">
                <div class="front-card-content">
                    <h1 id="greeting">Hey, Pretty üëã</h1>
                    <div id="messageBox">
                         
                        <p><span class="special-text">Happy 21st Birthday, you gem! üíé</span></p>
                        <p>Welcome to 21‚Äîfinally legal‚Äîtime flies when you're being fabulous!</p>
                        <p>You've become such a beautiful, brave, and wildly funny soul, and I'm beyond lucky to have crossed paths with you.</p>
                        <p>Here's to more late-night chats, spontaneous adventures</p>
                        <p>and growing into our best selves (with coffee-matcha-food hopping, of course üòÅ).</p>
                    </div>
                    <div class="hearts" id="heartsContainer"></div>
                    <button class="surprise-btn" id="surpriseButton">Click For A Surprise!</button>
                    <br>
                    <button class="flip-card-btn" id="flipToBackBtn">See More ‚û°Ô∏è</button>
                </div>
            </div>
            
            <div class="card-side card-back">
                <div class="back-card-content">
                    <button class="celebrate-btn" id="celebrateBtn">Celebrate!</button>
                    <div class="header">üéÇ Happy Birthday! üéâ</div>
                    <div class="message">
                        <p>I was amazed by how profoundly our friendship grew. I truly believed our lives had gone separate ways after Grade 12, and that moving to Phnom Penh would mean facing everything on my own.</p>
                        <p>But you‚Äîyour laughter, your kindness, your beautiful spirit‚Äîturned every moment into an adventure. From our first coffee and study sessions to spontaneous eating out and late‚Äënight talks, you've filled my days with joy and excitement I never saw coming.</p>
                        <p>I carry our memories close to my heart, and I'm endlessly grateful for the light you bring into my life.</p>
                    </div>
                    <div class="highlight">YOU ARE THE BEST!</div>
                    <div class="signature">Love you a ton <span class="heart">‚ù§Ô∏è</span></div>
                    <div class="footer">Wishing you all the happiness today and always!</div>
                    <button class="flip-card-btn" id="flipToFrontBtn">Go Back ‚¨ÖÔ∏è</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cardWrapper = document.getElementById('cardWrapper');
            const flipToBackBtn = document.getElementById('flipToBackBtn');
            const flipToFrontBtn = document.getElementById('flipToFrontBtn');
            const surpriseButton = document.getElementById('surpriseButton');
            const celebrateBtn = document.getElementById('celebrateBtn');
            
            // Flip card functions
            flipToBackBtn.addEventListener('click', function() {
                cardWrapper.style.transform = 'rotateY(180deg)';
            });
            
            flipToFrontBtn.addEventListener('click', function() {
                cardWrapper.style.transform = 'rotateY(0deg)';
            });
            
            // Create balloons on both sides
            createBalloons();
            
            // Handle surprise button
            surpriseButton.addEventListener('click', function() {
                createConfetti();
                
                // Change the text
                document.getElementById('greeting').textContent = "HAPPY BIRTHDAY! üåü";
                const messageBox = document.getElementById('messageBox');
                
                // Check if we've already added the extra message
                if (!document.getElementById('extraBirthdayMessage')) {
                    const extraMessage = document.createElement('p');
                    extraMessage.id = 'extraBirthdayMessage';
                    extraMessage.style.fontWeight = 'bold';
                    extraMessage.style.marginTop = '20px';
                    extraMessage.style.fontSize = '18px';
                    extraMessage.textContent = "You make the world a better place! TeyTey ü©∑";
                    messageBox.appendChild(extraMessage);
                }
            });
            
            // Handle celebrate button
            celebrateBtn.addEventListener('click', function() {
                createSpecialConfetti();
            });
            
            // Auto-celebrate after 3 seconds when flipped to back
            flipToBackBtn.addEventListener('click', function() {
                setTimeout(createSpecialConfetti, 1500);
            });
            
            // Create floating hearts periodically
            setInterval(createHeart, 1000);
            
            // Add subtle animation to greeting
            const greeting = document.getElementById('greeting');
            setInterval(() => {
                greeting.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    greeting.style.transform = 'scale(1)';
                }, 500);
            }, 3000);
            
            // Change colors periodically
            changeColors();
        });
        
        // Create floating balloons
        function createBalloons() {
            const colors = ['#ff4d4d', '#ffb3d9', '#b3ffff', '#b3d9ff', '#ffb3ff'];
            const container = document.querySelector('.container');
            
            for (let i = 0; i < 10; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                balloon.style.left = Math.random() * 100 + '%';
                balloon.style.bottom = -Math.random() * 50 + 'px';
                balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                balloon.style.animationDelay = Math.random() * 5 + 's';
                balloon.style.animationDuration = Math.random() * 10 + 10 + 's';
                container.appendChild(balloon);
            }
        }
        
        // Change colors of backgrounds
        function changeColors() {
            const frontColors = [
                'linear-gradient(135deg, #ffe6e6, #e6f2ff)',
                'linear-gradient(135deg, #e6ffe6, #e6f2ff)',
                'linear-gradient(135deg, #fff5e6, #e6f2ff)',
                'linear-gradient(135deg, #f2e6ff, #e6f2ff)'
            ];
            
            const backColors = [
                'linear-gradient(135deg, #f9c5d1, #9795ef)',
                'linear-gradient(135deg, #ffdde1, #ee9ca7)',
                'linear-gradient(135deg, #c2e9fb, #a1c4fd)',
                'linear-gradient(135deg, #f6d365, #fda085)'
            ];
            
            let colorIndex = 0;
            const frontSide = document.querySelector('.card-front');
            const backSide = document.querySelector('.card-back');
            
            setInterval(() => {
                colorIndex = (colorIndex + 1) % frontColors.length;
                frontSide.style.background = frontColors[colorIndex];
                backSide.style.background = backColors[colorIndex];
            }, 8000);
        }
        
        // Floating hearts animation
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart-shape';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.top = Math.random() * 100 + 'vh';
            heart.style.opacity = '0';
            heart.style.transform = `scale(${Math.random() * 0.7 + 0.3})`;
            
            // Check if hearts container exists
            let heartsContainer = document.getElementById('heartsContainer');
            if (!heartsContainer) {
                heartsContainer = document.createElement('div');
                heartsContainer.id = 'heartsContainer';
                heartsContainer.className = 'hearts';
                document.body.appendChild(heartsContainer);
            }
            
            heartsContainer.appendChild(heart);
            
            setTimeout(() => {
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                heart.style.transition = 'opacity 0.5s, transform 3s';
                heart.style.transform = `scale(${Math.random() * 0.7 + 0.3}) translateY(-${Math.random() * 100 + 100}px)`;
                
                setTimeout(() => {
                    heart.remove();
                }, 3000);
            }, 100);
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#ff4d4d', '#ffb3d9', '#b3ffff', '#b3d9ff', '#ffb3ff', '#ffff99'];
            const confettiContainer = document.createElement('div');
            confettiContainer.style.position = 'fixed';
            confettiContainer.style.top = '0';
            confettiContainer.style.left = '0';
            confettiContainer.style.width = '100%';
            confettiContainer.style.height = '100%';
            confettiContainer.style.pointerEvents = 'none';
            confettiContainer.style.zIndex = '10';
            document.body.appendChild(confettiContainer);
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-20px';
                confetti.style.opacity = '0';
                confetti.style.borderRadius = Math.random() < 0.5 ? '50%' : '0';
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confettiContainer.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.style.transition = `opacity 0.5s, top ${Math.random() * 3 + 4}s ease-out, left ${Math.random() * 4 + 2}s ease-in-out`;
                    confetti.style.opacity = Math.random() * 0.7 + 0.3;
                    confetti.style.top = '100vh';
                    confetti.style.left = (parseFloat(confetti.style.left) + Math.random() * 40 - 20) + 'vw';
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }, Math.random() * 1000);
            }
            
            setTimeout(() => {
                confettiContainer.remove();
            }, 6000);
        }
        
        // Create special confetti for back of card
        function createSpecialConfetti() {
            const colors = ['#ff6b6b', '#48dbfb', '#1dd1a1', '#f368e0', '#ff9f43', '#00d2d3'];
            const confettiCount = 100;
            const card = document.querySelector('.back-card-content');
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.transform = 'rotate(' + (Math.random() * 360) + 'deg)';
                card.appendChild(confetti);
                
                // Animate the confetti
                const duration = Math.random() * 3 + 2;
                const xPos = Math.random() * 100 - 50;
                
                confetti.animate([
                    { top: '-10px', left: '50%', opacity: 1 },
                    { top: '120%', left: `calc(50% + ${xPos}px)`, opacity: 0 }
                ], {
                    duration: duration * 1000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.9, 0.2)'
                });
                
                setTimeout(() => {
                    confetti.remove();
                }, duration * 1000);
            }
            
            // Add a slight card movement
            card.style.animation = 'none';
            card.offsetHeight; // Trigger reflow
            setTimeout(() => {
                card.style.transform = 'translateY(-5px)';
                setTimeout(() => {
                    card.style.transform = 'translateY(0)';
                }, 500);
            }, 100);
        }
    </script>
</body>
</html>